(this["webpackJsonphacker-news-app"]=this["webpackJsonphacker-news-app"]||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=(a(14),a(1)),i=a(2),u=a(5),h=a(6),s=a(8),m=a(7);a(15),a(16);function f(t){return r.a.createElement("div",{style:{textAlign:"left",margin:"20px"}},r.a.createElement("h2",null,"Title: ",t.title),r.a.createElement("h3",null,"Author: ",t.author),r.a.createElement("h3",null,"Date: ",t.date),r.a.createElement("a",{href:t.url},t.url))}var p=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={searchInput:"",searchCriteria:"author",searchHits:[],submitClicked:!1},t.handleChange=function(e){t.setState(Object(i.a)(Object(i.a)({},t.state),{},Object(o.a)({},e.target.name,e.target.value)))},t.handleSubmit=function(e){e.preventDefault(),t.setState({searchInput:"",searchCriteria:"author",submitClicked:!0}),"author"===t.state.searchCriteria?t.fetchByAuthor(t.state.searchInput):t.fetchByStory(t.state.searchInput)},t}return Object(h.a)(a,[{key:"fetchByAuthor",value:function(t){var e=this;fetch("http://hn.algolia.com/api/v1/search?tags=story,author_".concat(t)).then((function(t){return t.json()})).then((function(t){return t.hits.map((function(t){return{title:"".concat(t.title),author:"".concat(t.author),date:"".concat(t.created_at),url:"".concat(t.url)}}))})).then((function(t){return e.setState({searchHits:t})})).catch((function(t){return console.log("parsing failed",t)}))}},{key:"fetchByStory",value:function(t){var e=this;fetch("https://hn.algolia.com/api/v1/search?query=".concat(t,"&tags=story")).then((function(t){return t.json()})).then((function(t){return t.hits.map((function(t){return{title:"".concat(t.title),author:"".concat(t.author),date:"".concat(t.created_at),url:"".concat(t.url)}}))})).then((function(t){return e.setState({searchHits:t})})).catch((function(t){return console.log("parsing failed",t)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Hacker News"),r.a.createElement("h2",null,"Search:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("input",{name:"searchInput",value:this.state.searchInput,onChange:this.handleChange})),r.a.createElement("label",{style:{margin:"10px"}}," by",r.a.createElement("select",{name:"searchCriteria",value:this.state.searchCriteria,onChange:this.handleChange,style:{margin:"10px"}},r.a.createElement("option",{value:"author"},"Author (exact)"),r.a.createElement("option",{value:"story"},"Story (containing)"))),r.a.createElement("br",null),r.a.createElement("button",null,"Submit")),r.a.createElement("div",null,this.state.submitClicked&&r.a.createElement("h1",{style:{textAlign:"left",margin:"20px"}},"Results:"),this.state.searchHits.map((function(t,e){return r.a.createElement(f,{key:e,title:t.title,author:t.author,date:t.date,url:t.url})}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,a){t.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.debae7d6.chunk.js.map